CREATE SCHEMA EACHUSER;

-- EACHUSER.FLACHPTAB definition

CREATE TABLE "EACHUSER"."FLACHPTAB"  (
    "BIZDATE" CHAR(8 OCTETS) , 
    "PROCSEQ" INTEGER , 
    "BATCHSEQ" VARCHAR(15 OCTETS) , 
    "DATASEQ" VARCHAR(8 OCTETS) , 
    "ACH_TXDATE" CHAR(8 OCTETS) NOT NULL , 
    "ACH_TYPE" CHAR(1 OCTETS) NOT NULL , 
    "ACH_TXTYPE" CHAR(2 OCTETS) NOT NULL , 
    "ACH_TXID" CHAR(3 OCTETS) NOT NULL , 
    "ACH_SEQ" CHAR(8 OCTETS) NOT NULL , 
    "ACH_PBANK" CHAR(7 OCTETS) NOT NULL , 
    "ACH_PCLNO" CHAR(16 OCTETS) NOT NULL , 
    "ACH_RBANK" CHAR(7 OCTETS) NOT NULL , 
    "ACH_RCLNO" CHAR(16 OCTETS) NOT NULL , 
    "ACH_AMT" CHAR(10 OCTETS) NOT NULL , 
    "ACH_SCHD" CHAR(1 OCTETS) NOT NULL WITH DEFAULT 'B' , 
    "ACH_CID" VARCHAR(10 OCTETS) NOT NULL , 
    "ACH_PID" VARCHAR(10 OCTETS) NOT NULL , 
    "ACH_SID" VARCHAR(6 OCTETS) NOT NULL WITH DEFAULT '' , 
    "ACH_CNO" VARCHAR(20 OCTETS) WITH DEFAULT '' , 
    "ACH_NOTE" VARCHAR(40 OCTETS) WITH DEFAULT '' , 
    "ACH_MEMO" VARCHAR(10 OCTETS) WITH DEFAULT '' , 
    "ACH_CFEE" CHAR(5 OCTETS) , 
    "ACH_NOTEB" VARCHAR(20 OCTETS) WITH DEFAULT '' , 
    "ACH_FILLER" VARCHAR(39 OCTETS) WITH DEFAULT '' , 
    "TXN_AMT" DECIMAL(10,0) WITH DEFAULT 0 , 
    "STATUS" CHAR(1 OCTETS) , 
    "TXDATE" CHAR(8 OCTETS) , 
    "STAN" CHAR(10 OCTETS) , 
    "SENDERCLEARING" CHAR(7 OCTETS) , 
    "RECEIVERCLEARING" CHAR(7 OCTETS) , 
    "SENDERACQUIRE" CHAR(7 OCTETS) , 
    "RECEIVERACQUIRE" CHAR(7 OCTETS) , 
    "SENDERHEAD" CHAR(7 OCTETS) , 
    "RECEIVERHEAD" CHAR(7 OCTETS) , 
    "SENDERFEE" DECIMAL(7,2) , 
    "INFEE" DECIMAL(7,2) , 
    "OUTFEE" DECIMAL(7,2) , 
    "EACHFEE" DECIMAL(7,2) , 
    "PROCBIZDATE" CHAR(8 OCTETS) , 
    "CHKTYPE" CHAR(1 OCTETS) , 
    "COMPANYID" VARCHAR(255 OCTETS) , 
    "EXCHGORDER" VARCHAR(255 OCTETS) , 
    "FILLER" VARCHAR(255 OCTETS) , 
    "MEMO" VARCHAR(255 OCTETS) , 
    "PROCDATE" VARCHAR(255 OCTETS) , 
    "RECEIVERACCTNO" INTEGER , 
    "RECEIVERBANKID" DECIMAL(19,2) , 
    "RECEIVERID" VARCHAR(255 OCTETS) , 
    "SENDERACCTNO" INTEGER , 
    "SENDERBANKID" DECIMAL(19,2) , 
    "SENDERDATA" VARCHAR(255 OCTETS) , 
    "SENDERID" VARCHAR(255 OCTETS) , 
    "TXAMT" DECIMAL(19,2) , 
    "TXID" DECIMAL(19,2) , 
    "TXSEQ" INTEGER , 
    "TXTYPE" INTEGER , 
    "TYPE" VARCHAR(255 OCTETS) , 
    "USERNO" VARCHAR(255 OCTETS) )   
   IN "USERSPACE1"  
   ORGANIZE BY ROW;

COMMENT ON TABLE "EACHUSER"."FLACHPTAB" IS '整批ACH提出檔';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_AMT" IS '<ACH_09>金額';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_CFEE" IS '<ACH_21>客戶支付手續費';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_CID" IS '<ACH_12>發動者統一編號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_CNO" IS '<ACH_18>用戶號碼';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_FILLER" IS '<ACH_23>備用';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_MEMO" IS '<ACH_20>存摺摘要';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_NOTE" IS '<ACH_19>發動者專用區';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_NOTEB" IS '<ACH_22>發動行專用區';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_PBANK" IS '<ACH_05>提出行代號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_PCLNO" IS '<ACH_06>發動者帳號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_PID" IS '<ACH_13>收受者統一編號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_RBANK" IS '<ACH_07>提回行代號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_RCLNO" IS '<ACH_08>收受者帳號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_SCHD" IS '<ACH_11>提示交換次序';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_SEQ" IS '<ACH_04>交易序號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_SID" IS '<ACH_14>上市上櫃公司代號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_TXDATE" IS '<ACH_HEADER>ACH交易日期(Header處理日期(民國年))';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_TXID" IS '<ACH_03>交易代號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_TXTYPE" IS '<ACH_02>交易類別';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."ACH_TYPE" IS '<ACH_01>交易型態';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."BATCHSEQ" IS '整批處理序號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."BIZDATE" IS '營業日';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."CHKTYPE" IS '檢核類型';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."DATASEQ" IS '資料序號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."EACHFEE" IS '交換所手續費';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."INFEE" IS '入帳單位手續費';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."OUTFEE" IS '扣款單位手續費';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."PROCBIZDATE" IS '營業日';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."PROCSEQ" IS '處理序號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."RECEIVERACQUIRE" IS '接收行操作行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."RECEIVERCLEARING" IS '接收行清算行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."RECEIVERHEAD" IS '接收行總行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."SENDERACQUIRE" IS '提出行操作行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."SENDERCLEARING" IS '提出行清算行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."SENDERFEE" IS '發動單位手續費';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."SENDERHEAD" IS '提出行總行';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."STAN" IS '交易追蹤序號';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."STATUS" IS '狀態';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."TXDATE" IS '交易日期';

COMMENT ON COLUMN "EACHUSER"."FLACHPTAB"."TXN_AMT" IS '金額(數值)';

ALTER TABLE "EACHUSER"."FLACHPTAB" 
 ADD CONSTRAINT "PK_FLACHPTAB" PRIMARY KEY
  ("ACH_TXDATE",
   "ACH_TYPE",
   "ACH_SEQ",
   "ACH_PBANK",
   "ACH_CID")
 ENFORCED;

GRANT CONTROL ON TABLE "EACHUSER"."FLACHPTAB" TO USER "DB2INST1";

