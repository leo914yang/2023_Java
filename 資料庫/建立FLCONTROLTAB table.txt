CREATE SCHEMA EACHUSER;

-- EACHUSER.FLCONTROLTAB definition

CREATE TABLE "EACHUSER"."FLCONTROLTAB"  (
    "BIZDATE" CHAR(10 OCTETS) NOT NULL , 
    "CLEARINGPHASE" CHAR(2 OCTETS) , 
    "PROCSEQ"  INTEGER NOT NULL , 
    "BATCHSEQ" VARCHAR(15 OCTETS) NOT NULL , 
    "CREATE_TS" TIMESTAMP , 
    "START_TS" TIMESTAMP , 
    "END_TS" TIMESTAMP , 
    "TOTALCOUNT" INTEGER , 
    "TOTALAMT" BIGINT , 
    "REJECTCOUNT" INTEGER , 
    "REJECTAMT" BIGINT , 
    "ACCEPTCOUNT" INTEGER , 
    "ACCEPTAMT" BIGINT , 
    "PROCCOUNT" INTEGER , 
    "PROCAMT" BIGINT , 
    "LASTMODIFYDT" TIMESTAMP , 
    "ACHFLAG" CHAR(1 OCTETS) , 
    "STATUS" CHAR(1 OCTETS) , 
    "RFILESTATUS" CHAR(1 OCTETS) , 
    "EFILESTATUS" CHAR(1 OCTETS) , 
    "OFILESTATUS" CHAR(1 OCTETS) , 
    "FILEREJECT" CHAR(1 OCTETS) , 
    "PFILENAME" VARCHAR(19 OCTETS) , 
    "RFILENAME" VARCHAR(19 OCTETS) , 
    "EFILENAME" VARCHAR(30 OCTETS) , 
    "OFILENAME" VARCHAR(34 OCTETS) , 
    "ACQUIREID" CHAR(7 OCTETS) , 
    "FILELAYOUT" CHAR(2 OCTETS) , 
    "SENDERBANK" CHAR(7 OCTETS) , 
    "SFTPFLAG" CHAR(1 OCTETS) , 
    "CUT_IN_LINE" CHAR(50 OCTETS) )   
   IN "USERSPACE1"  
   ORGANIZE BY ROW;

COMMENT ON TABLE "EACHUSER"."FLCONTROLTAB" IS '整批控制檔';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."ACCEPTAMT" IS '合格金額';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."ACCEPTCOUNT" IS '合格筆數';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."ACHFLAG" IS '票交所代上傳註記  (*-票交所代上傳)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."ACQUIREID" IS '操作行代號';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."BATCHSEQ" IS '整批處理序號';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."BIZDATE" IS '營業日';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."CLEARINGPHASE" IS '清算階段';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."CREATE_TS" IS '檔案建立日期時間';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."EFILENAME" IS '檢核錯誤檔檔名';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."EFILESTATUS" IS '檢核錯誤檔下載註記  (Y-可下載)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."END_TS" IS '處理結束日期時間';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."FILELAYOUT" IS '檔案格式  (01-ACH提出提回)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."FILEREJECT" IS '整檔退回註記  (R-整檔退回)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."LASTMODIFYDT" IS '檔案最後異動日期時間';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."OFILENAME" IS '錯誤原始檔檔名';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."OFILESTATUS" IS '錯誤原明細檔下載註記  (Y-可下載)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."PFILENAME" IS '提出檔檔名';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."PROCAMT" IS '待處理金額';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."PROCCOUNT" IS '待處理筆數';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."PROCSEQ" IS '處理序號';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."REJECTAMT" IS '錯誤金額';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."REJECTCOUNT" IS '錯誤筆數';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."RFILENAME" IS '提回檔檔名';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."RFILESTATUS" IS '結果檔/提回檔下載註記  (Y-可下載)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."SENDERBANK" IS '首錄發動行代號(分行/總行/操作行)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."SFTPFLAG" IS 'SFTP上傳註記  (*-SFTP上傳)';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."START_TS" IS '處理開始日期時間';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."STATUS" IS '處理狀態';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."TOTALAMT" IS '總金額';

COMMENT ON COLUMN "EACHUSER"."FLCONTROLTAB"."TOTALCOUNT" IS '總筆數';

ALTER TABLE "EACHUSER"."FLCONTROLTAB" 
 ADD CONSTRAINT "PK_FLCONTROL" PRIMARY KEY
  ("BIZDATE",
   "PROCSEQ",
   "BATCHSEQ")
 ENFORCED;

GRANT CONTROL ON TABLE "EACHUSER"."FLCONTROLTAB" TO USER "DB2INST1";
